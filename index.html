<html>
<head>
    <title>HTML5 Audio Player</title>

    <style type="text/css">
    	ul li{
    		cursor: pointer;
    	}
    </style>
    <script src="js/jquery.js"></script>
    <script type="text/javascript">
    var audio, prog;
    ////see that only switch on button when page is loaded
    $(document).ready(function()
                               { 
                               	    $('#playlist').hide();
                               	    $('#audio-info').hide();
                               	    $('#tracker').hide();
                               	    $('#buttons').hide();
                            });
    //////on clicking switch on all other buttons get visible
    $(document).ready(function()
                               { 
                               	$('#on').click(function(){ 
                                                           $('#pause').hide();
                                                           $('#on').hide();
    	                                                   $('#playlist').show();
    	                                                   $('#audio-info').show();
                                                     	   $('#tracker').show();
                                                     	   $('#buttons').show();
                             
    	                                                   initAudio($('#playlist li:first-child'));
    	                                                })
                            });
                         
 ////////function that is responsible for playing all the songs   
      function initAudio(element)
       {    
	        var artist= element.attr('artist');

	       	var title= element.attr('song');
	       	     
	       	audio= new Audio('media/'+ title);
	        
	        $(element).attr("class","active");///////////////gave 'id' dynamically to a 'li'
	        setplay(element);
	        if(!audio.currentTime)//////koi song play ho rha hai kyaa
	        {   audio.play();
	        	$('.title').html(title);
	        	$('.artist').html(artist);
	        	timecheck();
	           	$('#play').hide();
                $('#pause').show();
         }
       }
     //////////////////////// sets appearance of song being played
        function setplay(element)
        {
        	$(element).css({"font-size":"200%"});  
        }
     //////////////////////// sets appearance of song being played
        function unsetplay(element)
        {
        	$(element).css({"font-size":"100%"});  
        }


        
      
        function timecheck(){   

                              $('#prog').change(function()
					                                     {
					                                     	audio.currentTime=(this.value*audio.duration)/100;
					                                     	timeupdater();
					                                      });


        	                  $(audio).bind('timeupdate', function()
					                                     {  

                                                             timeupdater();
                                                             movetimebar();
                                                             if(audio.currentTime==audio.duration) 
                                                             	repeat();
					                                     
    				                                     }
					                                     );

					          
				         
					                                    

					        }

		function timeupdater()
		{   
			if(audio.currentTime>0){
				                    
                                  	var s = parseInt(audio.currentTime % 60);
									var m = parseInt((audio.currentTime / 60) % 60);
									//Add 0 if seconds less than 10
									if (s < 10) {
										s = '0' + s;
									}
									$('#currenttime').html(m + '.' + s);	
                                    	

                                    var ss = parseInt(audio.duration % 60);
									var mm = parseInt((audio.duration / 60) % 60);
									//Add 0 if seconds less than 10
									if (ss < 10) {
										ss = '0' + ss;
									}
									$('#timeduration').html(mm + '.' + ss);
	                                                    
                                                          
                                                            
                                            
											
		                          }
        }
        
        function movetimebar()
                             {
                             	var value=(audio.currentTime/audio.duration)*100;
                             	$('#prog').val(value); 
                             }
        function repeat()
				        {   
				        	initAudio($('#playlist li.active'));
				        }


//play

       $(document).ready(function()
                                  {
                                  	 $('#play').click(function()
			                            {
			                                audio.play();
			                                $('#play').hide();
			                                $('#pause').show();
			                                $('#stop').show();
			                               

			                            });
                                  	});
      

///pause


            $(document).ready(function()
                                  { 
		                              	 $('#pause').click(function()
		    	                       {
			                                audio.pause();
			                                $('#pause').hide()
			                                $('#play').show();

		    	                       });
                                  	 
                                  	});
//////stop


         $(document).ready(function()
                                  { 
		                              $('#stop').click(function()
							         	                       {
							                                    audio.pause();

							                                    $('#pause').hide();
							                                    $('#play').show();
							                                    $('#stop').hide();
							                                  
							                                    audio.currentTime=0;
							                                     $('#currenttime').html(audio.currentTime);
							                                     var valuee=(audio.currentTime/audio.duration)*100;
                             	                                 $('#prog').val(valuee); 
							         	                       });
                                  	 
                                  });
       

///next

          $(document).ready(function()
                                  { 
                                  	$('#next').click(function()
         	                       {

                                    audio.pause();
                                    $('#pause').hide();
			                        $('#play').show();
			                         $('#stop').show();


                                    unsetplay('#playlist li.active');
         	                       	var next=$('#playlist li.active').next();////////////////////////////playlist id ke us li ko uthaao jiski
         	                       	$('#playlist li.active').attr("class","");///////////////gave id dynamically 
         	                       	if(next.length==0)/////////////////////////////class active ho aur wo class active ka next sibling ho
                                    next=$('#playlist li:first-child');
                                    initAudio(next);
         	                       });
		                              
                                  	 
                                  });
         

///prev

        $(document).ready(function()
                                  { 
                                  	 $('#prev').click(function()
         	                       {
                                    audio.pause(); 
                                    $('#pause').hide()
			                        $('#play').show();
			                         $('#stop').show();
                                    unsetplay('#playlist li.active');
                                    var prev=$('#playlist li.active').prev();//////////////////////prev and next work for only once
                                    $('#playlist li.active').attr("class","");///////////////gave id dynamically 

           	                       	if(prev.length==0)
                                    prev=$('#playlist li:last-child');
         	                        initAudio(prev);

         	                       });
                                  });

        
///volume/////////////////////////////////////////
          $(document).ready(function()
                                  { 
                                  	
	                                   $('#volume').change(function()
	         	                       {
	                                     
	                                   audio.volume= (this.value)/10;

         	                       });
                                  });







//////////play song on click
          $(document).ready(function()
                                  { 
                                      $('#playlist li').click(function () {
			                          audio.pause();
			                          unsetplay('#playlist li.active');
			                          $('#playlist li.active').attr("class","");///////jo gaana play ho rha hai uska hi id abhi clear krdo
			                          initAudio($(this));
				
		                         	});
                                  });
          


    </script>
</head>
<body>
<div id="container">
			
	<div id="audio-player">
		
    
        <div id="audio-info">
			<span class="artist">Artist</span> - <span class="title">Title</span>
		</div><br>
    	<div id="tracker">
			<div id="progressBar">
				<span id="progress"><input id="prog" type="range" min='0' max='100' step='1' value="0"></span>
			</div>
			<span id="currenttime">00.00</span>/<span id="timeduration">00.00</span>
		</div>
		<br>

        <div id="innercontainer">
		<div id="switchbutton">
		<button id="on">Switch ON</button>
		</div>
		 <div id="buttons">
		 <span>
		    	
				<button id="prev">prev</button>
	    		<button id="play">play</button>
		    	<button id="pause">pause</button>
			    <button id="stop">stop</button>
			    <button id="next">next</button>
                <br>
			    Volume:<br><input id="volume" type="range" min="0" max="10" value="10" step='1' />

			</span>
		 </div><br>
		
		 <br>
		 <ul id="playlist">
			<li class='' song="Darkhaast.mp3"  artist="Arijit Singh">Darkhaast.mp3</li>
			<li class='' song="Khamoshiyaan.mp3"  artist="Arijit Singh">Khamoshiyaan.mp3</li>
			<li class='' song="Tum Hi Ho.mp3"  artist="Arijit Singh">Tum Hi Ho.mp3</li>
			<li class='' song="Aayat.mp3"  artist="Arijit Singh">Aayat.mp3</li>
			<li class='' song="Raaz Ankhein teri.mp3"  artist="Arijit Singh">Raaz Ankhein teri.mp3</li>
			<li class='' song="Dekh Lena.mp3"  artist="Arijit Singh">Dekh Lena.mp3</li>
			<li class='' song="Ishq Mubarak.mp3"  artist="Arijit Singh">Ishq Mubarak.mp3</li>
			<li class='' song="Lo maan Liya.mp3"  artist="Arijit Singh">Lo Maan Liya.mp3</li>
			<li class='' song="Sone Do.mp3"  artist="Arijit Singh">Sone Do.mp3</li>
			<li class='' song="Hamdard.mp3"  artist="Arijit Singh">Hamdard.mp3</li>
			<li class='' song="Teri Fariyad.mp3"  artist="Jagjeet Singh">Teri Fariyad.mp3</li>
		</ul>
	 </div>
	</div>

</div>


</body>
</html>
